# If I had more time I would ...

## Turn the hit counter into a true counter for unique visits

* At the moment I have a simple hit counter implemented. 
  This can be extended by collecting IPs and hashing them before storing them in DynamoDB, to ensure the number of website visits isn't exaggerated by accidental refreshes.
  
    *If the same IP visits the website with at least a one week gap since the first visit I would consider that to be a unique visit.*
    *This would also require storing the date of the visit and doing some simple date maths.*


## Set up separate production/testing environments for better CI/CD

* At the moment, there is only one staging environment and one main branch, so any bug deployed through the automated pipeline which is not caught by my unit tests can potentially break the site.

    *This would involve adding additional steps to the GitHub actions workflow to merge pull requests from a testing branch provided that tests are passed, as well as setting up a duplicate testing environment on AWS under a different account and Organizational Unit in AWS organizations for testing.*


## Fully automate everything

* There were a few things I didn't yet get around to turning into infrastructure as code in my SAM/Cloudformation template.
    This included

    * Creating the Route 53 Hosted Zone
    * Creating the HTTPS certificate in ACM
    * Configuring OIDC in AWS for use with GitHub actions

    *Some of these, e.g. configuring OIDC, were easily achieved by running aws cli commands, but there is undoubtedly a way to achieve the same results with a CloudFormation template.* 
    *Figuring out the equivalent CloudFormation would require time reading through documentation.*

* [ ] Next step: test nuking the website deployment and pushing a change to my repository to build everything from scratch.


## Ensure DynamoDB stays clean

* ... by making a fallback option to overwrite the data in my table if the data type for my `visits` attribute changes from a number into a string.

    During development, at one point my visitor counter broke because the API started receiving a string type from DynamoDB rather than a number type. 
    My solution was to manually go into the management console and change it back, but this could be automated with a simple `try/except` statement.


## Refine privileges

* ... by using [IAM access analyzer](https://aws.amazon.com/iam/features/analyze-access/) to determine if there are any permissions in the IAM roles I created that are not being used by my code.


## Put safeguards on my API

* ... by setting up [account-level throttling and rate limiting](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html).


## Complete some smaller tasks

* [ ] Write code to rollback the visitor counter by 1 after the integration test passes.

* [ ] Clean up my GitHub actions workflow to configure AWS credentials just once instead of once on each different runner.

* [ ] Configure slightly nicer looking API endpoint URLs using my custom domain name instead of the ugly ones which were generated by AWS.